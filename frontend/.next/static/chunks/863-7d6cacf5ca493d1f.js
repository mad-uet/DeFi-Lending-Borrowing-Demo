"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[863],{9448:function(e,t,n){n.d(t,{ToastContainer:function(){return x},Z:function(){return c}});var r=n(7437),a=n(2265),o=n(6955);let i={success:"✓",error:"✕",warning:"⚠",info:"ℹ",liquidation:"\uD83D\uDD25"},s={success:{bg:"bg-green-50 dark:bg-green-900/30",border:"border-green-200 dark:border-green-700",icon:"bg-green-500 text-white",text:"text-green-800 dark:text-green-200"},error:{bg:"bg-red-50 dark:bg-red-900/30",border:"border-red-200 dark:border-red-700",icon:"bg-red-500 text-white",text:"text-red-800 dark:text-red-200"},warning:{bg:"bg-yellow-50 dark:bg-yellow-900/30",border:"border-yellow-200 dark:border-yellow-700",icon:"bg-yellow-500 text-white",text:"text-yellow-800 dark:text-yellow-200"},info:{bg:"bg-blue-50 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-700",icon:"bg-blue-500 text-white",text:"text-blue-800 dark:text-blue-200"},liquidation:{bg:"bg-orange-50 dark:bg-orange-900/30",border:"border-orange-200 dark:border-orange-700",icon:"bg-gradient-to-r from-orange-500 to-red-500 text-white",text:"text-orange-800 dark:text-orange-200"}};function l(e){let{notification:t,onClose:n,onRead:o}=e,[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),x=s[t.type],m=i[t.type];return(0,a.useEffect)(()=>{requestAnimationFrame(()=>{d(!0)}),o()},[o]),(0,r.jsx)("div",{className:"\n        transform transition-all duration-300 ease-out\n        ".concat(l&&!c?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n        ").concat("liquidation"===t.type?"animate-pulse-slow":"","\n      "),children:(0,r.jsxs)("div",{className:"\n          relative overflow-hidden rounded-xl shadow-lg border-2\n          ".concat(x.bg," ").concat(x.border,"\n          max-w-sm w-full p-4\n          ").concat("liquidation"===t.type?"ring-2 ring-orange-400 ring-opacity-50":"","\n        "),children:[t.autoClose&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 h-1 ".concat(x.icon," opacity-50"),style:{animation:"shrink ".concat(t.duration||5e3,"ms linear forwards")}}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"\n              flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center\n              ".concat(x.icon,"\n              ").concat("liquidation"===t.type?"animate-bounce-subtle":"","\n              transition-transform hover:scale-110\n            "),children:(0,r.jsx)("span",{className:"text-lg font-bold",children:m})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("h4",{className:"font-semibold ".concat(x.text," truncate"),children:t.title}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:(e=>{let t=Date.now()-e;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):new Date(e).toLocaleTimeString()})(t.timestamp)})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:t.message}),t.txHash&&(0,r.jsxs)("a",{href:"#tx-".concat(t.txHash),className:"inline-flex items-center gap-1 mt-2 text-xs text-primary-600 dark:text-primary-400 hover:underline",children:[(0,r.jsx)("span",{children:"View Transaction"}),(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),t.action&&(0,r.jsx)("button",{onClick:t.action.onClick,className:"\n                  mt-2 px-3 py-1 text-sm font-medium rounded-lg\n                  ".concat(x.icon," hover:opacity-90 transition-opacity\n                "),children:t.action.label})]}),(0,r.jsx)("button",{onClick:()=>{u(!0),setTimeout(()=>{n()},300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})}let d={success:"Completed",error:"Failed",warning:"Warnings",info:"Info",liquidation:"Liquidations"};function c(){let{notifications:e,unreadCount:t,removeNotification:n,markAsRead:i,markAllAsRead:s,clearAll:l}=(0,o.z)(),[c,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)("all"),g="all"===m?e:e.filter(e=>e.type===m),f=e.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{}),w=e=>{let t=Date.now()-e;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):new Date(e).toLocaleDateString()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>x(!c),className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Notifications",children:[(0,r.jsx)("svg",{className:"w-6 h-6 transition-transform ".concat(c?"scale-110":""," ").concat(t>0?"animate-wiggle":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),t>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[20px] h-5 px-1.5 text-xs font-bold text-white bg-red-500 rounded-full animate-scale-in",children:t>9?"9+":t})]}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>x(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-96 max-h-[70vh] bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 z-50 overflow-hidden animate-slide-down",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"Notifications"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[t>0&&(0,r.jsx)("button",{onClick:s,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all read"}),e.length>0&&(0,r.jsx)("button",{onClick:l,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Clear all"})]})]}),(0,r.jsxs)("div",{className:"flex gap-1 mt-3 overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>h("all"),className:"px-3 py-1 text-xs font-medium rounded-full transition-colors ".concat("all"===m?"bg-primary-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"),children:["All (",e.length,")"]}),Object.entries(d).map(e=>{let[t,n]=e,a=f[t]||0;return 0===a?null:(0,r.jsxs)("button",{onClick:()=>h(t),className:"px-3 py-1 text-xs font-medium rounded-full whitespace-nowrap transition-colors ".concat(m===t?"bg-primary-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"),children:[n," (",a,")"]},t)})]})]}),(0,r.jsx)("div",{className:"overflow-y-auto max-h-[50vh]",children:0===g.length?(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,r.jsx)("p",{className:"font-medium",children:"No notifications"}),(0,r.jsx)("p",{className:"text-sm mt-1",children:"You're all caught up!"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:g.map(e=>(0,r.jsx)(u,{notification:e,onClose:()=>n(e.id),onRead:()=>i(e.id),formatTime:w},e.id))})})]})]})]})}function u(e){let{notification:t,onClose:n,onRead:a,formatTime:o}=e;return(0,r.jsx)("div",{className:"\n        p-4 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors cursor-pointer\n        ".concat(t.read?"":"bg-blue-50/50 dark:bg-blue-900/20","\n      "),onClick:a,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ".concat({success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500",liquidation:"bg-gradient-to-r from-orange-500 to-red-500"}[t.type]),children:{success:"✓",error:"✕",warning:"⚠",info:"ℹ",liquidation:"\uD83D\uDD25"}[t.type]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("h4",{className:"font-medium text-sm truncate ".concat(t.read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:t.title}),(0,r.jsx)("span",{className:"text-xs text-gray-400 flex-shrink-0",children:o(t.timestamp)})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-2",children:t.message})]}),!t.read&&(0,r.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-primary-500 rounded-full animate-pulse"}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors opacity-0 group-hover:opacity-100",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function x(){let{notifications:e,removeNotification:t,markAsRead:n}=(0,o.z)(),a=e.filter(e=>Date.now()-e.timestamp<(e.duration||5e3)+500).slice(0,5);return(0,r.jsx)("div",{className:"fixed top-20 right-4 z-50 flex flex-col gap-3",children:a.map(e=>(0,r.jsx)(l,{notification:e,onClose:()=>t(e.id),onRead:()=>n(e.id)},e.id))})}},6955:function(e,t,n){n.d(t,{NotificationProvider:function(){return i},U:function(){return l},z:function(){return s}});var r=n(7437),a=n(2265);let o=(0,a.createContext)(null);function i(e){let{children:t}=e,[n,i]=(0,a.useState)([]),s=(0,a.useCallback)(e=>{var t,n;let r="notification-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),a={...e,id:r,timestamp:Date.now(),read:!1,autoClose:null===(t=e.autoClose)||void 0===t||t,duration:null!==(n=e.duration)&&void 0!==n?n:5e3};return i(e=>[a,...e].slice(0,50)),a.autoClose&&setTimeout(()=>{l(r)},a.duration),r},[]),l=(0,a.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),d=(0,a.useCallback)(e=>{i(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},[]),c=(0,a.useCallback)(()=>{i(e=>e.map(e=>({...e,read:!0})))},[]),u=(0,a.useCallback)(()=>{i([])},[]),x=n.filter(e=>!e.read).length;return(0,r.jsx)(o.Provider,{value:{notifications:n,unreadCount:x,addNotification:s,removeNotification:l,markAsRead:d,markAllAsRead:c,clearAll:u},children:t})}function s(){let e=(0,a.useContext)(o);if(!e)throw Error("useNotifications must be used within a NotificationProvider");return e}function l(){let{addNotification:e}=s(),t=(0,a.useCallback)((t,n)=>e({type:"info",title:"".concat(t," Started"),message:"".concat(t," ").concat(n," transaction initiated..."),autoClose:!1}),[e]),n=(0,a.useCallback)((t,n,r,a)=>e({type:"success",title:"".concat(t," Successful"),message:"Successfully ".concat(t.toLowerCase(),"ed ").concat(r," ").concat(n),txHash:a,duration:8e3}),[e]);return{notifyTransactionStart:t,notifyTransactionSuccess:n,notifyTransactionError:(0,a.useCallback)((t,n)=>e({type:"error",title:"".concat(t," Failed"),message:n,duration:1e4}),[e]),notifyLiquidationRisk:(0,a.useCallback)(t=>e({type:"liquidation",title:"⚠️ Liquidation Risk",message:"Your health factor is ".concat(t.toFixed(2),". Add collateral or repay debt to avoid liquidation."),autoClose:!1}),[e]),notifyLiquidationEvent:(0,a.useCallback)((t,n)=>e({type:"liquidation",title:"\uD83D\uDEA8 Liquidation Occurred",message:"".concat(n," ").concat(t," was liquidated from your position. Your debt has been reduced accordingly."),autoClose:!1}),[e])}}},6653:function(e,t,n){n.d(t,{$:function(){return c},Web3Provider:function(){return d}});var r=n(7437),a=n(2265),o=n(7593),i=n(9064),s=n(1620);let l=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[n,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[x,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[f,w]=(0,a.useState)(0),b=async()=>{if(void 0!==window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(s.Kj.toString(16))}]})}catch(e){if(4902===e.code)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat(s.Kj.toString(16)),chainName:"Hardhat Local",rpcUrls:["http://127.0.0.1:8545"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(e){console.error("Error adding network:",e),i.ZP.error("Failed to add network")}else console.error("Error switching network:",e),i.ZP.error("Failed to switch network")}},p=async()=>{if(void 0===window.ethereum){i.ZP.error("MetaMask is not installed");return}try{let e=new o.Q(window.ethereum),t=await e.send("eth_requestAccounts",[]),n=await e.getSigner(),r=await e.getNetwork();d(e),u(n),m(t[0]),w(Number(r.chainId)),g(!0),i.ZP.success("Wallet connected successfully!")}catch(e){console.error("Error connecting wallet:",e),i.ZP.error(e.message||"Failed to connect wallet")}},v=()=>{d(null),u(null),m(""),w(0),g(!1),i.ZP.success("Wallet disconnected")};return(0,a.useEffect)(()=>{if(void 0===window.ethereum)return;let e=e=>{0===e.length?v():e[0]!==x&&(m(e[0]),i.ZP.success("Account changed"))},t=e=>{w(parseInt(e,16)),i.ZP.success("Network changed"),window.location.reload()},n=()=>{v()};return window.ethereum.on("accountsChanged",e),window.ethereum.on("chainChanged",t),window.ethereum.on("disconnect",n),()=>{window.ethereum.removeListener("accountsChanged",e),window.ethereum.removeListener("chainChanged",t),window.ethereum.removeListener("disconnect",n)}},[x]),(0,a.useEffect)(()=>{(async()=>{if(void 0!==window.ethereum)try{let e=new o.Q(window.ethereum),t=await e.send("eth_accounts",[]);if(t.length>0){let n=await e.getSigner(),r=await e.getNetwork();d(e),u(n),m(t[0]),w(Number(r.chainId)),g(!0)}}catch(e){console.error("Auto-connect failed:",e)}})()},[]),(0,r.jsx)(l.Provider,{value:{provider:n,signer:c,account:x,isConnected:h,chainId:f,connect:p,disconnect:v,switchNetwork:b},children:t})}function c(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useWeb3 must be used within a Web3Provider");return e}},1620:function(e,t,n){n.d(t,{ERC20_ABI:function(){return o},Kj:function(){return c},LENDING_POOL_ABI:function(){return r},M2:function(){return l},NP:function(){return a},NX:function(){return i},dA:function(){return d},jk:function(){return s},qp:function(){return u}});let r=["function deposit(address token, uint256 amount) external","function withdraw(address token, uint256 amount) external","function borrow(address token, uint256 amount) external","function repay(address token, uint256 amount) external","function getUserDeposit(address user, address token) external view returns (uint256)","function getUserBorrow(address user, address token) external view returns (uint256)","function getTokenBalance(address token) external view returns (uint256)","function calculateHealthFactor(address user) external view returns (uint256)","function getBorrowRate(address token) external view returns (uint256)","function getSupplyRate(address token) external view returns (uint256)","function supportedTokens(uint256) external view returns (address)","function tokenConfigs(address) external view returns (address tokenAddress, uint16 ltv, bool isActive)","function getUserLARRewards(address user) external view returns (uint256)","function getSupportedTokensCount() external view returns (uint256)","function totalDeposits(address) external view returns (uint256)","function totalBorrows(address) external view returns (uint256)","function getUserAccountData(address user) external view returns (uint256 totalCollateralUSD, uint256 totalDebtUSD, uint256 availableBorrowsUSD, uint256 healthFactor)","event Deposit(address indexed user, address indexed token, uint256 amount, uint256 larMinted)","event Withdraw(address indexed user, address indexed token, uint256 amount)","event Borrow(address indexed user, address indexed token, uint256 amount, uint256 interestRate)","event Repay(address indexed user, address indexed token, uint256 amount, uint256 interest)"],a=["function balanceOf(address account) external view returns (uint256)","function totalSupply() external view returns (uint256)","function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function decimals() external view returns (uint8)","function symbol() external view returns (string)","function name() external view returns (string)"],o=["function balanceOf(address account) external view returns (uint256)","function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function decimals() external view returns (uint8)","function symbol() external view returns (string)","function name() external view returns (string)","function mint(address to, uint256 amount) external"],i=["function getPrice(address token) external view returns (uint256)","function updatePrice(address token) external"],s=["function calculateBorrowRate(uint256 borrowed, uint256 supplied) external view returns (uint256)","function calculateSupplyRate(uint256 borrowed, uint256 supplied, uint256 reserveFactor) external view returns (uint256)"],l={LendingPool:"0xAA292E8611aDF267e563f334Ee42320aC96D0463",LARToken:"0xA4899D35897033b927acFCf422bc745916139776",InterestRateModel:"0xf953b3A269d80e3eB0F2947630Da976B896A8C5b",PriceOracle:"0x4C2F7092C2aE51D986bEFEe378e50BD4dB99C901",WETH:"0xBEc49fA140aCaA83533fB00A2BB19bDdd0290f25",DAI:"0xD84379CEae14AA33C123Af12424A37803F885889",USDC:"0x2B0d36FACD61B71CC05ab8F3D2355ec3631C0dd5",LINK:"0xfbC22278A96299D91d41C453234d97b4F5Eb9B2d"},d={WETH:{symbol:"WETH",name:"Wrapped Ether",decimals:18,address:l.WETH,collateralFactor:.75,liquidationThreshold:.8},DAI:{symbol:"DAI",name:"Dai Stablecoin",decimals:18,address:l.DAI,collateralFactor:.8,liquidationThreshold:.85},USDC:{symbol:"USDC",name:"USD Coin",decimals:6,address:l.USDC,collateralFactor:.8,liquidationThreshold:.85},LINK:{symbol:"LINK",name:"Chainlink",decimals:18,address:l.LINK,collateralFactor:.7,liquidationThreshold:.75}};Object.values(d);let c=Number("31337")||31337,u={1:"Ethereum Mainnet",31337:"Hardhat Local",11155111:"Sepolia Testnet"}}}]);