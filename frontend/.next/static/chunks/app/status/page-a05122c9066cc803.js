(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{2590:function(e,t,a){Promise.resolve().then(a.bind(a,6823))},6823:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(7437),n=a(2265),r=a(7648),o=a(8564),i=a(5810),l=a(1662),d=a(1620);let c="http://127.0.0.1:8545",u=e=>{let{status:t}=e;switch(t){case"success":return(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"warning":return(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"pending":return(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center animate-pulse",children:(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-500"})});default:return(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-400"})})}},m=e=>{let{category:t}=e,[a,r]=(0,n.useState)(!0);return(0,s.jsxs)("div",{className:"rounded-xl border-2 ".concat({success:"border-green-500 bg-green-50 dark:bg-green-900/20",error:"border-red-500 bg-red-50 dark:bg-red-900/20",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",pending:"border-gray-300 bg-gray-50 dark:bg-gray-800",skipped:"border-gray-300 bg-gray-50 dark:bg-gray-800"}[t.status]," overflow-hidden"),children:[(0,s.jsxs)("button",{onClick:()=>r(!a),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(u,{status:t.status}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.name}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",t.results.filter(e=>"success"===e.status).length,"/",t.results.length," passed)"]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&(0,s.jsx)("div",{className:"px-6 pb-4 space-y-3",children:t.results.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[(0,s.jsx)(u,{status:e.status}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:e.timestamp.toLocaleTimeString()})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.message}),e.details&&(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-mono break-all",children:e.details})]})]},t))})]})},g=e=>{let{logs:t,onClear:a}=e,[r,o]=(0,n.useState)("ALL"),i="ALL"===r?t:t.filter(e=>e.type===r),l={INFO:"text-blue-600 dark:text-blue-400",SUCCESS:"text-green-600 dark:text-green-400",ERROR:"text-red-600 dark:text-red-400",WARNING:"text-yellow-600 dark:text-yellow-400"};return(0,s.jsxs)("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-800 border-b border-gray-700",children:[(0,s.jsx)("h3",{className:"text-white font-semibold",children:"Debug Console"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("select",{value:r,onChange:e=>o(e.target.value),className:"bg-gray-700 text-white text-sm rounded px-2 py-1 border border-gray-600",children:[(0,s.jsx)("option",{value:"ALL",children:"All"}),(0,s.jsx)("option",{value:"INFO",children:"Info"}),(0,s.jsx)("option",{value:"SUCCESS",children:"Success"}),(0,s.jsx)("option",{value:"WARNING",children:"Warning"}),(0,s.jsx)("option",{value:"ERROR",children:"Error"})]}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="diagnostic-logs-".concat(new Date().toISOString(),".json"),s.click(),URL.revokeObjectURL(a)},className:"px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Export"}),(0,s.jsx)("button",{onClick:a,className:"px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Clear"})]})]}),(0,s.jsx)("div",{className:"h-64 overflow-y-auto p-4 font-mono text-sm",children:0===i.length?(0,s.jsx)("p",{className:"text-gray-500",children:"No logs yet..."}):i.map(e=>(0,s.jsxs)("div",{className:"flex gap-2 py-1",children:[(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:e.timestamp.toLocaleTimeString()}),(0,s.jsxs)("span",{className:"font-bold ".concat(l[e.type]),children:["[",e.type,"]"]}),(0,s.jsx)("span",{className:"text-gray-300",children:e.message}),e.details&&(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:e.details})]},e.id))})]})},h=()=>{let e=e=>{navigator.clipboard.writeText(e)},t=[{label:"Chain ID",value:d.Kj.toString()},{label:"RPC URL",value:"http://127.0.0.1:8545"},{label:"LendingPool",value:d.M2.LendingPool},{label:"LARToken",value:d.M2.LARToken},{label:"InterestRateModel",value:d.M2.InterestRateModel},{label:"PriceOracle",value:d.M2.PriceOracle},{label:"WETH",value:d.M2.WETH},{label:"DAI",value:d.M2.DAI},{label:"USDC",value:d.M2.USDC},{label:"LINK",value:d.M2.LINK}];return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Environment Configuration"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current values from .env.local"})]}),(0,s.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(t=>(0,s.jsxs)("div",{className:"px-6 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t.label}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-mono text-gray-800 dark:text-gray-200 max-w-[300px] truncate",children:t.value||"Not set"}),t.value&&(0,s.jsx)("button",{onClick:()=>e(t.value),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Copy to clipboard",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]},t.label))})]})};function x(){let[e,t]=(0,n.useState)(!1),{isRunning:a,lastRun:u,categories:x,logs:p,runDiagnostics:f,clearLogs:w}=function(e){let[t,a]=(0,n.useState)({isRunning:!1,lastRun:null,categories:[],logs:[]}),s=(0,n.useRef)(0),r=(0,n.useCallback)((e,t,n)=>{let r={id:"log-".concat(++s.current),type:e,message:t,details:n,timestamp:new Date};a(e=>({...e,logs:[...e.logs.slice(-99),r]}))},[]),u=(0,n.useCallback)(()=>{a(e=>({...e,logs:[]}))},[]),m=(0,n.useCallback)(async()=>{a(e=>({...e,isRunning:!0,categories:[]})),r("INFO","Starting diagnostic checks...");let e=[],t=[];r("INFO","Checking MetaMask availability...");let s=void 0!==window.ethereum;if(t.push({name:"MetaMask Installed",status:s?"success":"error",message:s?"MetaMask (or compatible wallet) detected":"No Web3 wallet detected",details:s?"Provider: ".concat(window.ethereum.isMetaMask?"MetaMask":"Other"):"Please install MetaMask",timestamp:new Date}),s){r("SUCCESS","MetaMask detected");try{let e=await window.ethereum.request({method:"eth_accounts"}),a=e&&e.length>0;t.push({name:"Wallet Connected",status:a?"success":"warning",message:a?"Connected: ".concat(e[0]):"Wallet not connected",details:a?"Account: ".concat(e[0]):'Click "Connect Wallet" on main page',data:{accounts:e},timestamp:new Date}),r(a?"SUCCESS":"WARNING",a?"Connected to ".concat(e[0].slice(0,10),"..."):"Wallet not connected")}catch(e){t.push({name:"Wallet Connected",status:"error",message:"Failed to check wallet connection",details:e.message,timestamp:new Date}),r("ERROR","Failed to check wallet connection",e.message)}try{let e=await window.ethereum.request({method:"eth_chainId"}),a=parseInt(e,16),s=d.Kj,n=a===s;t.push({name:"Network Chain ID",status:n?"success":"error",message:n?"Chain ID: ".concat(a," (Correct)"):"Chain ID mismatch: ".concat(a," vs expected ").concat(s),details:n?"Connected to Hardhat Local network":"Switch to Hardhat Local network (Chain ID 31337)",data:{chainId:a,expected:s},timestamp:new Date}),r(n?"SUCCESS":"ERROR","Chain ID: ".concat(a),n?"Matches expected":"Expected: ".concat(s))}catch(e){t.push({name:"Network Chain ID",status:"error",message:"Failed to get chain ID",details:e.message,timestamp:new Date}),r("ERROR","Failed to get chain ID",e.message)}}else r("ERROR","MetaMask not detected");e.push({name:"MetaMask / Wallet",status:t.some(e=>"error"===e.status)?"error":t.some(e=>"warning"===e.status)?"warning":"success",results:t});let n=[];r("INFO","Checking RPC connection to ".concat(c,"..."));let u=null;try{u=new o.r6(c);let e=await u.getNetwork();n.push({name:"RPC Connection",status:"success",message:"Connected to Hardhat node",details:"Chain ID: ".concat(e.chainId,", Network: ").concat(e.name),data:{chainId:Number(e.chainId),name:e.name},timestamp:new Date}),r("SUCCESS","RPC connection successful","Chain ID: ".concat(e.chainId));let t=await u.getBlockNumber();n.push({name:"Block Number",status:"success",message:"Current block: ".concat(t),details:t>0?"Blockchain is active":"No blocks mined yet",data:{blockNumber:t},timestamp:new Date}),r("SUCCESS","Current block: ".concat(t))}catch(e){n.push({name:"RPC Connection",status:"error",message:"Failed to connect to Hardhat node",details:"".concat(e.message,". Is the Hardhat node running? Run: npx hardhat node"),timestamp:new Date}),r("ERROR","RPC connection failed",e.message)}e.push({name:"RPC / Hardhat Node",status:n.some(e=>"error"===e.status)?"error":"success",results:n});let m=[];r("INFO","Checking environment configuration...");let g={LENDING_POOL:d.M2.LendingPool,LAR_TOKEN:d.M2.LARToken,INTEREST_RATE_MODEL:d.M2.InterestRateModel,PRICE_ORACLE:d.M2.PriceOracle,WETH:d.M2.WETH,DAI:d.M2.DAI,USDC:d.M2.USDC,LINK:d.M2.LINK};for(let[e,t]of Object.entries(g)){let a=t&&t.length>0&&"0x"!==t,s=/^0x[a-fA-F0-9]{40}$/.test(t);m.push({name:"".concat(e," Address"),status:a&&s?"success":a?"warning":"error",message:a?t:"Not configured",details:a?s?"Address configured":"Invalid address format":"Set NEXT_PUBLIC_".concat(e,"_ADDRESS in .env.local"),data:{address:t},timestamp:new Date})}m.push({name:"Chain ID Config",status:31337===d.Kj?"success":"warning",message:"Configured: ".concat(d.Kj),details:31337===d.Kj?"Correct for Hardhat":"Expected 31337 for Hardhat local",data:{chainId:d.Kj},timestamp:new Date}),r("INFO","Environment: ".concat(Object.values(g).filter(e=>e).length,"/").concat(Object.keys(g).length," addresses configured")),e.push({name:"Environment Configuration",status:m.some(e=>"error"===e.status)?"error":m.some(e=>"warning"===e.status)?"warning":"success",results:m});let h=[];if(r("INFO","Verifying smart contract deployments..."),u){if(d.M2.LendingPool)try{let e=await u.getCode(d.M2.LendingPool);if("0x"!==e&&e.length>2){let e=new i.CH(d.M2.LendingPool,d.LENDING_POOL_ABI,u);try{let t=await e.getSupportedTokensCount();h.push({name:"LendingPool Contract",status:"success",message:"Deployed and responding",details:"Supported tokens: ".concat(t.toString()),data:{address:d.M2.LendingPool,tokenCount:t.toString()},timestamp:new Date}),r("SUCCESS","LendingPool: ".concat(t," tokens configured"))}catch(e){h.push({name:"LendingPool Contract",status:"warning",message:"Deployed but call failed",details:"getSupportedTokensCount() error: ".concat(e.message),data:{address:d.M2.LendingPool,error:e.message},timestamp:new Date}),r("WARNING","LendingPool deployed but call failed",e.message)}}else h.push({name:"LendingPool Contract",status:"error",message:"No contract at address",details:"Address ".concat(d.M2.LendingPool," has no code. Re-deploy contracts."),timestamp:new Date}),r("ERROR","LendingPool: No contract code at address")}catch(e){h.push({name:"LendingPool Contract",status:"error",message:"Failed to verify",details:e.message,timestamp:new Date}),r("ERROR","LendingPool verification failed",e.message)}let t=[{name:"WETH",address:d.M2.WETH},{name:"DAI",address:d.M2.DAI},{name:"USDC",address:d.M2.USDC},{name:"LINK",address:d.M2.LINK}];for(let e of t){if(!e.address){h.push({name:"".concat(e.name," Token"),status:"error",message:"Address not configured",details:"Set NEXT_PUBLIC_".concat(e.name,"_ADDRESS in .env.local"),timestamp:new Date});continue}try{let t=await u.getCode(e.address);if("0x"!==t&&t.length>2){let t=new i.CH(e.address,d.ERC20_ABI,u);try{let[a,s]=await Promise.all([t.symbol(),t.decimals()]);h.push({name:"".concat(e.name," Token"),status:"success",message:"".concat(a," - ").concat(s," decimals"),details:"Address: ".concat(e.address),data:{address:e.address,symbol:a,decimals:Number(s)},timestamp:new Date}),r("SUCCESS","".concat(e.name,": ").concat(a,", ").concat(s," decimals"))}catch(t){h.push({name:"".concat(e.name," Token"),status:"warning",message:"Deployed but call failed",details:t.message,timestamp:new Date}),r("WARNING","".concat(e.name," call failed"),t.message)}}else h.push({name:"".concat(e.name," Token"),status:"error",message:"No contract at address",details:"Address ".concat(e.address," has no code"),timestamp:new Date}),r("ERROR","".concat(e.name,": No contract code"))}catch(t){h.push({name:"".concat(e.name," Token"),status:"error",message:"Verification failed",details:t.message,timestamp:new Date})}}if(d.M2.PriceOracle)try{let e=await u.getCode(d.M2.PriceOracle);if("0x"!==e&&e.length>2){let e=new i.CH(d.M2.PriceOracle,d.NX,u);try{if(d.M2.WETH){let t=await e.getPrice(d.M2.WETH);h.push({name:"PriceOracle Contract",status:"success",message:"Deployed and responding",details:"WETH Price: ".concat((0,l.bM)(t,18)," USD"),data:{address:d.M2.PriceOracle,wethPrice:(0,l.bM)(t,18)},timestamp:new Date}),r("SUCCESS","PriceOracle: WETH = $".concat((0,l.bM)(t,18)))}}catch(e){h.push({name:"PriceOracle Contract",status:"warning",message:"Deployed but call failed",details:e.message,timestamp:new Date}),r("WARNING","PriceOracle call failed",e.message)}}else h.push({name:"PriceOracle Contract",status:"error",message:"No contract at address",details:"Address ".concat(d.M2.PriceOracle," has no code"),timestamp:new Date})}catch(e){h.push({name:"PriceOracle Contract",status:"error",message:"Verification failed",details:e.message,timestamp:new Date})}if(d.M2.LARToken)try{let e=await u.getCode(d.M2.LARToken);if("0x"!==e&&e.length>2){let e=new i.CH(d.M2.LARToken,d.NP,u);try{let[t,a]=await Promise.all([e.symbol(),e.totalSupply()]);h.push({name:"LARToken Contract",status:"success",message:"".concat(t," - Total Supply: ").concat((0,l.bM)(a,18)),details:"Address: ".concat(d.M2.LARToken),data:{address:d.M2.LARToken,symbol:t,totalSupply:(0,l.bM)(a,18)},timestamp:new Date}),r("SUCCESS","LARToken: ".concat(t,", supply ").concat((0,l.bM)(a,18)))}catch(e){h.push({name:"LARToken Contract",status:"warning",message:"Deployed but call failed",details:e.message,timestamp:new Date})}}else h.push({name:"LARToken Contract",status:"error",message:"No contract at address",details:"Address ".concat(d.M2.LARToken," has no code"),timestamp:new Date})}catch(e){h.push({name:"LARToken Contract",status:"error",message:"Verification failed",details:e.message,timestamp:new Date})}let a=[];if(r("INFO","Checking token configurations in LendingPool..."),d.M2.LendingPool){let e=new i.CH(d.M2.LendingPool,d.LENDING_POOL_ABI,u);for(let s of t)if(s.address)try{let t=await e.tokenConfigs(s.address),n=t.isActive||t[2],o=t.ltv||t[1];a.push({name:"".concat(s.name," Config"),status:n?"success":"error",message:n?"Active - LTV: ".concat(Number(o)/100,"%"):"Not active in LendingPool",details:n?"LTV: ".concat(Number(o)/100,"%"):"Token not configured or not active. Run deployment script.",data:{address:s.address,isActive:n,ltv:Number(o)},timestamp:new Date}),r(n?"SUCCESS":"ERROR","".concat(s.name," config: ").concat(n?"active":"inactive"))}catch(e){a.push({name:"".concat(s.name," Config"),status:"error",message:"Failed to read config",details:e.message,timestamp:new Date}),r("ERROR","".concat(s.name," config read failed"),e.message)}}e.push({name:"Token Configurations",status:a.some(e=>"error"===e.status)?"error":a.some(e=>"warning"===e.status)?"warning":"success",results:a})}e.push({name:"Smart Contracts",status:h.some(e=>"error"===e.status)?"error":h.some(e=>"warning"===e.status)?"warning":"success",results:h}),r("INFO","Diagnostic checks complete"),a(t=>({...t,isRunning:!1,lastRun:new Date,categories:e}))},[r]);return(0,n.useEffect)(()=>{if(e&&e>0){let t=setInterval(()=>{m()},e);return()=>clearInterval(t)}},[e,m]),(0,n.useEffect)(()=>{m()},[]),{...t,runDiagnostics:m,clearLogs:u}}(e?1e4:void 0),b=x.some(e=>"error"===e.status)?"error":x.some(e=>"warning"===e.status)?"warning":x.length>0?"success":"pending";return(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[(0,s.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-md",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"\uD83D\uDD27"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"System Diagnostics"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time system health monitoring"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.default,{href:"/",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"← Back to Dashboard"}),(0,s.jsx)(r.default,{href:"/analytics",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Analytics"})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r ".concat({success:"from-green-500 to-green-600",error:"from-red-500 to-red-600",warning:"from-yellow-500 to-yellow-600",pending:"from-gray-400 to-gray-500",skipped:"from-gray-400 to-gray-500"}[b]," rounded-xl p-6 mb-8 text-white shadow-lg"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:["success"===b&&(0,s.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"error"===b&&(0,s.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"warning"===b&&(0,s.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"pending"===b&&(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full animate-spin"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:{success:"All systems operational",error:"Issues detected - see details below",warning:"Some warnings detected",pending:"Running diagnostics...",skipped:"Diagnostics not run"}[b]}),(0,s.jsx)("p",{className:"text-white/80",children:u?"Last checked: ".concat(u.toLocaleTimeString()):"Running initial diagnostics..."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e,onChange:e=>t(e.target.checked),className:"w-4 h-4 rounded"}),(0,s.jsx)("span",{className:"text-sm",children:"Auto-refresh (5s)"})]}),(0,s.jsxs)("button",{onClick:f,disabled:a,className:"px-6 py-2 bg-white/20 hover:bg-white/30 disabled:opacity-50 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[a&&(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a?"Running...":"Run Diagnostics"]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-6",children:0===x.length?(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-primary-500 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Running diagnostics..."})]}):x.map((e,t)=>(0,s.jsx)(m,{category:e},t))}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(h,{}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Fixes"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsx)("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Hardhat Node Not Running?"}),(0,s.jsx)("code",{className:"text-xs bg-blue-100 dark:bg-blue-800 px-2 py-1 rounded mt-2 block",children:"npx hardhat node"})]}),(0,s.jsxs)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[(0,s.jsx)("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Wrong Chain ID?"}),(0,s.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-xs mt-1",children:"In MetaMask: Settings → Networks → Add Hardhat (Chain ID: 31337, RPC: http://127.0.0.1:8545)"})]}),(0,s.jsxs)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,s.jsx)("p",{className:"font-medium text-red-800 dark:text-red-200",children:"Contracts Not Deployed?"}),(0,s.jsx)("code",{className:"text-xs bg-red-100 dark:bg-red-800 px-2 py-1 rounded mt-2 block",children:"npx hardhat run scripts/deploy-core.ts --network localhost"})]})]})]})]})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(g,{logs:p,onClear:w})})]})]})}},1620:function(e,t,a){"use strict";a.d(t,{ERC20_ABI:function(){return r},Kj:function(){return c},LENDING_POOL_ABI:function(){return s},M2:function(){return l},NP:function(){return n},NX:function(){return o},dA:function(){return d},jk:function(){return i},qp:function(){return u}});let s=["function deposit(address token, uint256 amount) external","function withdraw(address token, uint256 amount) external","function borrow(address token, uint256 amount) external","function repay(address token, uint256 amount) external","function getUserDeposit(address user, address token) external view returns (uint256)","function getUserBorrow(address user, address token) external view returns (uint256)","function getTokenBalance(address token) external view returns (uint256)","function calculateHealthFactor(address user) external view returns (uint256)","function getBorrowRate(address token) external view returns (uint256)","function getSupplyRate(address token) external view returns (uint256)","function supportedTokens(uint256) external view returns (address)","function tokenConfigs(address) external view returns (address tokenAddress, uint16 ltv, bool isActive)","function getUserLARRewards(address user) external view returns (uint256)","function getSupportedTokensCount() external view returns (uint256)","function totalDeposits(address) external view returns (uint256)","function totalBorrows(address) external view returns (uint256)","function getUserAccountData(address user) external view returns (uint256 totalCollateralUSD, uint256 totalDebtUSD, uint256 availableBorrowsUSD, uint256 healthFactor)","event Deposit(address indexed user, address indexed token, uint256 amount, uint256 larMinted)","event Withdraw(address indexed user, address indexed token, uint256 amount)","event Borrow(address indexed user, address indexed token, uint256 amount, uint256 interestRate)","event Repay(address indexed user, address indexed token, uint256 amount, uint256 interest)"],n=["function balanceOf(address account) external view returns (uint256)","function totalSupply() external view returns (uint256)","function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function decimals() external view returns (uint8)","function symbol() external view returns (string)","function name() external view returns (string)"],r=["function balanceOf(address account) external view returns (uint256)","function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function decimals() external view returns (uint8)","function symbol() external view returns (string)","function name() external view returns (string)","function mint(address to, uint256 amount) external"],o=["function getPrice(address token) external view returns (uint256)","function updatePrice(address token) external"],i=["function calculateBorrowRate(uint256 borrowed, uint256 supplied) external view returns (uint256)","function calculateSupplyRate(uint256 borrowed, uint256 supplied, uint256 reserveFactor) external view returns (uint256)"],l={LendingPool:"0xAA292E8611aDF267e563f334Ee42320aC96D0463",LARToken:"0xA4899D35897033b927acFCf422bc745916139776",InterestRateModel:"0xf953b3A269d80e3eB0F2947630Da976B896A8C5b",PriceOracle:"0x4C2F7092C2aE51D986bEFEe378e50BD4dB99C901",WETH:"0xBEc49fA140aCaA83533fB00A2BB19bDdd0290f25",DAI:"0xD84379CEae14AA33C123Af12424A37803F885889",USDC:"0x2B0d36FACD61B71CC05ab8F3D2355ec3631C0dd5",LINK:"0xfbC22278A96299D91d41C453234d97b4F5Eb9B2d"},d={WETH:{symbol:"WETH",name:"Wrapped Ether",decimals:18,address:l.WETH,collateralFactor:.75,liquidationThreshold:.8},DAI:{symbol:"DAI",name:"Dai Stablecoin",decimals:18,address:l.DAI,collateralFactor:.8,liquidationThreshold:.85},USDC:{symbol:"USDC",name:"USD Coin",decimals:6,address:l.USDC,collateralFactor:.8,liquidationThreshold:.85},LINK:{symbol:"LINK",name:"Chainlink",decimals:18,address:l.LINK,collateralFactor:.7,liquidationThreshold:.75}};Object.values(d);let c=Number("31337")||31337,u={1:"Ethereum Mainnet",31337:"Hardhat Local",11155111:"Sepolia Testnet"}}},function(e){e.O(0,[564,868,971,117,744],function(){return e(e.s=2590)}),_N_E=e.O()}]);