(()=>{var e={};e.id=109,e.ids=[109],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},1568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},365:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>o}),r(2388),r(8185),r(5866);var a=r(3191),s=r(8716),i=r(7922),l=r.n(i),d=r(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);r.d(t,n);let o=["",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2388)),"C:\\Users\\Administrator\\Documents\\DeFi-LeBo-SimApp\\frontend\\src\\app\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8185)),"C:\\Users\\Administrator\\Documents\\DeFi-LeBo-SimApp\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Administrator\\Documents\\DeFi-LeBo-SimApp\\frontend\\src\\app\\analytics\\page.tsx"],x="/analytics/page",m={require:r,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8996:(e,t,r)=>{Promise.resolve().then(r.bind(r,5313))},5313:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(326),s=r(7577),i=r(7570),l=r(8714),d=r(5320),n=r(434),o=r(2482);function c(){let{isConnected:e,chainId:t}=(0,i.$)(),r=(0,l.c)("LendingPool"),c=(0,l.c)("PriceOracle"),x=(0,l.c)("LARToken"),[m,g]=(0,s.useState)(null),[h,p]=(0,s.useState)([]),[u,y]=(0,s.useState)(!0),[b,f]=(0,s.useState)(null),j=[{address:o.M2.WETH,symbol:"WETH",decimals:18},{address:o.M2.DAI,symbol:"DAI",decimals:18},{address:o.M2.USDC,symbol:"USDC",decimals:6},{address:o.M2.LINK,symbol:"LINK",decimals:18}];(0,s.useCallback)(async()=>{if(r&&c&&x)try{f(null),y(!0);let e=0,t=0,a=[];for(let s of j)if(s.address)try{if(!(await r.tokenConfigs(s.address)).isActive)continue;let[i,l,n,o,x]=await Promise.all([r.totalDeposits(s.address),r.totalBorrows(s.address),c.getPrice(s.address),r.getBorrowRate(s.address),r.getSupplyRate(s.address)]),m=(0,d.bM)(i,s.decimals),g=(0,d.bM)(l,s.decimals),h=(0,d.bM)(n,18),p=parseFloat(m)*parseFloat(h),u=parseFloat(g)*parseFloat(h);e+=p,t+=u;let y=i>0n?Number(10000n*l/i)/100:0,b=Number(o)/100,f=Number(x)/100;a.push({token:s.address,symbol:s.symbol,totalDeposits:m,totalBorrows:g,utilizationRate:y,supplyAPY:f,borrowAPY:b,price:h,tvlUSD:p,borrowedUSD:u})}catch(e){console.warn(`Error fetching data for ${s.symbol}:`,e)}let s="0";try{let e=await x.totalSupply();s=(0,d.bM)(e,18)}catch(e){console.warn("Error fetching LAR supply:",e)}let i=e>0?t/e*100:0;g({totalValueLockedUSD:e,totalBorrowedUSD:t,totalSuppliedUSD:e,overallUtilizationRate:i,larTokensInCirculation:s}),p(a)}catch(e){console.error("Error fetching analytics:",e),f(e.message||"Failed to fetch analytics")}finally{y(!1)}},[r,c,x]);let w=e=>isNaN(e)||!isFinite(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),N=e=>{let t=parseFloat(e);return isNaN(t)||!isFinite(t)?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)};return e?t!==o.Kj?a.jsx("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:a.jsx("div",{className:"container mx-auto px-4 py-20",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"⚠️"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Wrong Network"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Please switch to Hardhat Local network (Chain ID: ",o.Kj,")"]}),a.jsx(n.default,{href:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg font-medium hover:from-primary-600 hover:to-primary-700 transition-all transform hover:scale-[1.02]",children:"Go to Dashboard"})]})})}):a.jsx("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[b&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl animate-fade-in",children:(0,a.jsxs)("p",{className:"text-red-700 dark:text-red-300 flex items-center gap-2",children:[a.jsx("span",{children:"❌"})," Error: ",b]})}),u&&!m?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-64 gap-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-200 border-t-primary-500"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading analytics..."})]}):(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsxs)("div",{className:"mb-8 animate-fade-in-up",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDCCA"})," Protocol Overview"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"\uD83D\uDD12"})}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Value Locked"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w(m.totalValueLockedUSD)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"\uD83D\uDCB8"})}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Borrowed"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w(m.totalBorrowedUSD)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"\uD83D\uDCC8"})}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Overall Utilization"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m.overallUtilizationRate.toFixed(2),"%"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min(m.overallUtilizationRate,100)}%`}})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"\uD83E\uDE99"})}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"LAR in Circulation"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N(m.larTokensInCirculation)})]})]})]}),(0,a.jsxs)("div",{className:"animate-fade-in-up",style:{animationDelay:"0.1s"},children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83C\uDFE6"})," Token Markets"]}),0===h.length?(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center border border-gray-100 dark:border-gray-700",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCED"})}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No active token markets found."})]}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden border border-gray-100 dark:border-gray-700",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Supplied"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Borrowed"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Supply APY"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Borrow APY"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Utilization"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"TVL (USD)"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-600 rounded-xl flex items-center justify-center text-white text-sm font-bold mr-3 shadow-sm",children:e.symbol.slice(0,2)}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.symbol}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",parseFloat(e.price).toFixed(2)]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white font-medium",children:N(e.totalDeposits)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white font-medium",children:N(e.totalBorrows)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg font-semibold",children:[e.supplyAPY.toFixed(2),"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-lg font-semibold",children:[e.borrowAPY.toFixed(2),"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-primary-400 to-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min(e.utilizationRate,100)}%`}})}),(0,a.jsxs)("span",{className:"font-medium w-12 text-right",children:[e.utilizationRate.toFixed(1),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-bold text-gray-900 dark:text-white",children:w(e.tvlUSD)})]},e.token))})]})})})]}),a.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-5 border border-blue-200 dark:border-blue-800 animate-fade-in-up",style:{animationDelay:"0.2s"},children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-xl",children:"\uD83D\uDCA1"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-1",children:"Analytics Update"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Data refreshes every 10 seconds. LAR tokens are minted 1:1 with USD value of deposits."})]})]})})]})]})}):a.jsx("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:a.jsx("div",{className:"container mx-auto px-4 py-20",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCCA"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please connect your wallet to view protocol analytics"}),a.jsx(n.default,{href:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg font-medium hover:from-primary-600 hover:to-primary-700 transition-all transform hover:scale-[1.02]",children:"Go to Dashboard"})]})})})}},8714:(e,t,r)=>{"use strict";r.d(t,{c:()=>d});var a=r(7577),s=r(1389),i=r(7570),l=r(2482);function d(e,t){let{signer:r,provider:d}=(0,i.$)();return(0,a.useMemo)(()=>{let a,i;if(!r&&!d)return null;switch(e){case"LendingPool":a=l.LENDING_POOL_ABI,i=t||l.M2.LendingPool;break;case"LARToken":a=l.NP,i=t||l.M2.LARToken;break;case"ERC20":a=l.ERC20_ABI,i=t||"";break;case"PriceOracle":a=l.NX,i=t||l.M2.PriceOracle;break;case"InterestRateModel":a=l.jk,i=t||l.M2.InterestRateModel;break;default:return null}return i?new s.CH(i,a,r||d):null},[e,t,r,d])}},2388:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\Administrator\Documents\DeFi-LeBo-SimApp\frontend\src\app\analytics\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[424,788],()=>r(365));module.exports=a})();