(()=>{var e={};e.id=109,e.ids=[109],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},1568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},365:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>n}),r(2388),r(8714),r(5866);var a=r(3191),s=r(8716),i=r(7922),d=r.n(i),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let n=["",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2388)),"C:\\Users\\Administrator\\Documents\\DeFi-LeBo-SimApp\\frontend\\src\\app\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8714)),"C:\\Users\\Administrator\\Documents\\DeFi-LeBo-SimApp\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Administrator\\Documents\\DeFi-LeBo-SimApp\\frontend\\src\\app\\analytics\\page.tsx"],x="/analytics/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},8996:(e,t,r)=>{Promise.resolve().then(r.bind(r,5313))},5313:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(326),s=r(7577),i=r(7570),d=r(7522),l=r(5320),o=r(434),n=r(2482);function c(){let{isConnected:e,chainId:t}=(0,i.$)(),r=(0,d.c)("LendingPool"),c=(0,d.c)("PriceOracle"),x=(0,d.c)("LARToken"),[m,h]=(0,s.useState)(null),[g,p]=(0,s.useState)([]),[y,u]=(0,s.useState)(!0),[b,f]=(0,s.useState)(null),j=[{address:n.M2.WETH,symbol:"WETH",decimals:18},{address:n.M2.DAI,symbol:"DAI",decimals:18},{address:n.M2.USDC,symbol:"USDC",decimals:6},{address:n.M2.LINK,symbol:"LINK",decimals:18}];(0,s.useCallback)(async()=>{if(r&&c&&x)try{f(null),u(!0);let e=0,t=0,a=[];for(let s of j)if(s.address)try{if(!(await r.tokenConfigs(s.address)).isActive)continue;let[i,d,o,n,x]=await Promise.all([r.totalDeposits(s.address),r.totalBorrows(s.address),c.getPrice(s.address),r.getBorrowRate(s.address),r.getSupplyRate(s.address)]),m=(0,l.bM)(i,s.decimals),h=(0,l.bM)(d,s.decimals),g=(0,l.bM)(o,18),p=parseFloat(m)*parseFloat(g),y=parseFloat(h)*parseFloat(g);e+=p,t+=y;let u=i>0n?Number(10000n*d/i)/100:0,b=Number(n)/100,f=Number(x)/100;a.push({token:s.address,symbol:s.symbol,totalDeposits:m,totalBorrows:h,utilizationRate:u,supplyAPY:f,borrowAPY:b,price:g,tvlUSD:p,borrowedUSD:y})}catch(e){console.warn(`Error fetching data for ${s.symbol}:`,e)}let s="0";try{let e=await x.totalSupply();s=(0,l.bM)(e,18)}catch(e){console.warn("Error fetching LAR supply:",e)}let i=e>0?t/e*100:0;h({totalValueLockedUSD:e,totalBorrowedUSD:t,totalSuppliedUSD:e,overallUtilizationRate:i,larTokensInCirculation:s}),p(a)}catch(e){console.error("Error fetching analytics:",e),f(e.message||"Failed to fetch analytics")}finally{u(!1)}},[r,c,x]);let w=e=>isNaN(e)||!isFinite(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),k=e=>{let t=parseFloat(e);return isNaN(t)||!isFinite(t)?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)};return e?t!==n.Kj?(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(o.default,{href:"/",className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"DL"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Protocol Analytics"})]}),a.jsx(o.default,{href:"/",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"← Back to Dashboard"})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-20",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Wrong Network"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Please switch to Hardhat Local network (Chain ID: ",n.Kj,")"]}),a.jsx(o.default,{href:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg font-medium hover:from-primary-600 hover:to-primary-700 transition-all",children:"Go to Dashboard"})]})})]}):(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(o.default,{href:"/",className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"DL"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Protocol Analytics"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time protocol statistics"})]})]}),a.jsx(o.default,{href:"/",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"← Back to Dashboard"})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[b&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",b]})}),y&&!m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Protocol Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Total Value Locked"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w(m.totalValueLockedUSD)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Total Borrowed"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w(m.totalBorrowedUSD)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Overall Utilization"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m.overallUtilizationRate.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"LAR Tokens in Circulation"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k(m.larTokensInCirculation)})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Token Markets"}),0===g.length?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No active token markets found."})}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Supplied"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Borrowed"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Supply APY"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Borrow APY"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Utilization"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"TVL (USD)"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:e.symbol.slice(0,2)}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.symbol}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",parseFloat(e.price).toFixed(2)]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white",children:k(e.totalDeposits)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white",children:k(e.totalBorrows)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,a.jsxs)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[e.supplyAPY.toFixed(2),"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,a.jsxs)("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:[e.borrowAPY.toFixed(2),"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${Math.min(e.utilizationRate,100)}%`}})}),(0,a.jsxs)("span",{children:[e.utilizationRate.toFixed(1),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900 dark:text-white",children:w(e.tvlUSD)})]},e.token))})]})})})]}),a.jsx("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),a.jsx("div",{children:(0,a.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a.jsx("strong",{children:"Analytics Update:"})," Data refreshes every 10 seconds. LAR tokens are minted 1:1 with USD value of deposits."]})})]})})]})]})]}):(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(o.default,{href:"/",className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"DL"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Protocol Analytics"})]}),a.jsx(o.default,{href:"/",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"← Back to Dashboard"})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-20",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please connect your wallet to view protocol analytics"}),a.jsx(o.default,{href:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg font-medium hover:from-primary-600 hover:to-primary-700 transition-all",children:"Go to Dashboard"})]})})]})}},7522:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var a=r(7577),s=r(1389),i=r(7570),d=r(2482);function l(e,t){let{signer:r,provider:l}=(0,i.$)();return(0,a.useMemo)(()=>{let a,i;if(!r&&!l)return null;switch(e){case"LendingPool":a=d.LENDING_POOL_ABI,i=t||d.M2.LendingPool;break;case"LARToken":a=d.NP,i=t||d.M2.LARToken;break;case"ERC20":a=d.ERC20_ABI,i=t||"";break;case"PriceOracle":a=d.NX,i=t||d.M2.PriceOracle;break;case"InterestRateModel":a=d.jk,i=t||d.M2.InterestRateModel;break;default:return null}return i?new s.CH(i,a,r||l):null},[e,t,r,l])}},2388:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\Administrator\Documents\DeFi-LeBo-SimApp\frontend\src\app\analytics\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[511,314,953],()=>r(365));module.exports=a})();